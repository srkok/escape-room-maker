<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maze Escape Room Maker</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <!--依存ナシ-->
    <script src="./js/initial-settings.js"></script>
    <script src="./js/hover-color-change.component.js"></script>
    <script src="./js/is-equal.js"></script>
    <script src="./js/wait-for-object-ready.js"></script>
    <script src="./js/save.js"></script>
    <!--依存アリ-->
    <script src="./js/make-element-util.js"></script>
    <script src="./js/toggle-wall-make.component.js"></script>
    <script src="./js/init-maze-maker.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse" raycaster="objects:.raycastable">
      <a-entity id="mazeGrids" position="0 0 -4" rotation="-90 0 0"></a-entity>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
    <!-- ダウンローダー -->
    <button id="downloadButton">Download</button>
  </body>
</html>

<!--<a-entity id="mazeWalls" position="0 0 -4" rotation="-90 0 0"></a-entity>-->
<!-- wallをgridと独立させる版 --
    <script type="text/javascript">
      window.addEventListener("DOMContentLoaded", () => {
        const mazeGrids = document.getElementById("mazeGrids");
        const mazeWalls = document.getElementById("mazeWalls");
        for (let i = 0; i < INITIAL_GRID_ROWS; i++) {
          for (let j = 0; j < INITIAL_GRID_COLUMNS; j++) {
            /** make grid **/
            let newGridEl = document.createElement("a-entity");
            setNewElementProperties(
              newGridEl,
              MAZE_GRID_OBJECT,
              MAZE_GRID_COLOR,
              {
                x: j * (MAZE_GRID_OBJECT.width + MAZE_WALL_OBJECT.width),
                y: i * (MAZE_GRID_OBJECT.height + MAZE_WALL_OBJECT.width),
                z: 0,
              },
              ZERO_VEC3_OBJECT
            );
            setActionSettingsProperties(
              newGridEl,
              MAZE_GRID_COLOR,
              MAZE_GRID_HIGHLIGHT_COLOR
            );
            mazeGrids.appendChild(newGridEl);
            /** make wall **/
            let newRightWallEl = document.createElement("a-entity");
            setNewElementProperties(
              newRightWallEl,
              MAZE_WALL_OBJECT,
              MAZE_WALL_COLOR,
              {
                x:
                  j * (MAZE_GRID_OBJECT.width + MAZE_WALL_OBJECT.width) +
                  (MAZE_GRID_OBJECT.width + MAZE_WALL_OBJECT.width) / 2,
                y: i * (MAZE_GRID_OBJECT.height + MAZE_WALL_OBJECT.width),
                z: 0,
              },
              ZERO_VEC3_OBJECT
            );
            setActionSettingsProperties(
              newRightWallEl,
              MAZE_WALL_COLOR,
              MAZE_WALL_HIGHLIGHT_COLOR
            );
            mazeWalls.appendChild(newRightWallEl);
            let newAboveWallEl = document.createElement("a-entity");
            setNewElementProperties(
              newAboveWallEl,
              MAZE_WALL_OBJECT,
              MAZE_WALL_COLOR,
              {
                x: j * (MAZE_GRID_OBJECT.width + MAZE_WALL_OBJECT.width),
                y:
                  i * (MAZE_GRID_OBJECT.height + MAZE_WALL_OBJECT.width) +
                  (MAZE_GRID_OBJECT.height + MAZE_WALL_OBJECT.width) / 2,
                z: 0,
              },
              { x: 0, y: 0, z: 90 }
            );
            setActionSettingsProperties(
              newAboveWallEl,
              MAZE_WALL_COLOR,
              MAZE_WALL_HIGHLIGHT_COLOR
            );
            mazeWalls.appendChild(newAboveWallEl);
          }
        }
      });
    </script>-->
